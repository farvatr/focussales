
<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Sales Focus Tracker</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body { background: #2C003E; color: white; font-family: sans-serif; margin: 0; padding: 1rem; }
    .card { background: #3E0D5E; border-radius: 12px; padding: 1rem; margin-bottom: 1rem; box-shadow: 0 0 10px #933DC9; }
    button { background: #933DC9; border: none; border-radius: 6px; padding: 6px 12px; color: white; margin: 2px; cursor: pointer; }
    input[type="number"] { width: 80px; border-radius: 6px; border: none; padding: 6px; text-align: center; margin: 4px 0; }
    canvas { background: white; border-radius: 12px; }
    table { width: 100%; margin-top: 1rem; border-collapse: collapse; color: white; }
    th, td { border: 1px solid #933DC9; padding: 6px; text-align: center; }
  </style>
</head>
<body>
  <h1>Sales Focus Tracker</h1>
  <div class="card">
    <div>ðŸ“ž Ð—Ð²Ð¾Ð½ÐºÐ¸: <span id="calls">0</span> / <span id="callsGoal">70</span></div>
    <input type="number" id="callsInput" />
    <button onclick="manual('calls')">Ð’Ð²Ð¾Ð´</button>
    <button onclick="change('calls', 1)">+ Ð—Ð²Ð¾Ð½Ð¾Ðº</button>
    <button onclick="change('calls', -1)">âˆ’ Ð—Ð²Ð¾Ð½Ð¾Ðº</button>
  </div>
  <div class="card">
    <div>ðŸ“² Ð”Ð¾Ð·Ð²Ð¾Ð½Ñ‹: <span id="reached">0</span> / <span id="reachedGoal">25</span></div>
    <input type="number" id="reachedInput" />
    <button onclick="manual('reached')">Ð’Ð²Ð¾Ð´</button>
    <button onclick="change('reached', 1)">+ Ð”Ð¾Ð·Ð²Ð¾Ð½</button>
    <button onclick="change('reached', -1)">âˆ’ Ð”Ð¾Ð·Ð²Ð¾Ð½</button>
  </div>
  <div class="card">
    <canvas id="chart" height="100"></canvas>
  </div>
  <script>
    const data = { calls: 0, reached: 0 };
    const goals = { calls: 70, reached: 25 };
    const ctx = document.getElementById("chart").getContext("2d");
    const chart = new Chart(ctx, {
      type: "bar",
      data: {
        labels: ["Ð—Ð²Ð¾Ð½ÐºÐ¸", "Ð”Ð¾Ð·Ð²Ð¾Ð½Ñ‹"],
        datasets: [{ label: "Ð¢ÐµÐºÑƒÑ‰ÐµÐµ", data: [0, 0], backgroundColor: "#933DC9" }]
      },
      options: { responsive: true, plugins: { legend: { display: false } } }
    });
    function update() {
      document.getElementById("calls").textContent = data.calls;
      document.getElementById("reached").textContent = data.reached;
      document.getElementById("callsGoal").textContent = goals.calls;
      document.getElementById("reachedGoal").textContent = goals.reached;
      chart.data.datasets[0].data = [data.calls, data.reached];
      chart.update();
    }
    function change(metric, delta) {
      data[metric] = Math.max(0, data[metric] + delta);
      adjustGoals();
      update();
    }
    function manual(metric) {
      const val = parseInt(document.getElementById(metric + "Input").value);
      if (!isNaN(val)) {
        data[metric] = Math.max(0, val);
        adjustGoals();
        update();
      }
    }
    function adjustGoals() {
      if (data.calls >= 60) {
        goals.calls = 50;
        goals.reached = 15;
      } else if (data.calls >= 30) {
        goals.calls = 30;
        goals.reached = 10;
      } else {
        goals.calls = 70;
        goals.reached = 25;
      }
    }
    update();
  </script>
</body>
</html>
